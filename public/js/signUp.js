function getAge(e,a,i){var n=new Date,t=e+"/"+a+"/"+i,r=new Date(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return(0>o||0===o&&n.getDate()<r.getDate())&&s--,s}var loginVM=new Vue({el:"#login-form",data:{user:{username:"",password:""}},methods:{checkUser:function(){var e=this;firebase.auth().signInWithEmailAndPassword(e.user.username,e.user.password).then(function(e){console.log("Success"),window.location="index.html"},function(e){var a=e.code,i=e.message;"auth/invalid-email"==a?alert("Invalid email, Please try again."):"auth/user-not-found"==a?alert("User not found! Please Sign Up or Try Again."):"auth/wrong-password"==a?alert("Wrong Password, Please Try Again!"):alert(i)})}}}),signUpVM=new Vue({el:"#signup-container",data:{newUser:{firstName:"",lastName:"",email:"",password:"",birth:{month:"",day:"",year:""}},confirmEmail:"",validEmail:!1,validAge:!1,signUpFlag:!0,ageClear:!1,signUpOption:""},methods:{createUser:function(){var e=this;console.log(e.validEmail),console.log(e.validAge),!e.validEmail&&e.ageClear?firebase.auth().createUserWithEmailAndPassword(e.newUser.email,e.newUser.password).then(function(e){console.log("Success"),window.location="index.html"},function(e){var a=e.code,i=e.message;"auth/weak-password"==a?alert("The password is too weak."):"auth/email-already-in-use"==a?alert("Email is already in use! Please try to login"):alert(i)}):e.clearAge||alert("Sorry you need to be 21+ to access this page")},emailConfirm:function(){var e=this;e.newUser.email!=e.confirmEmail?e.validEmail=!0:e.validEmail=!1},validateAge:function(){var e=this,a=getAge(e.newUser.birth.month,e.newUser.birth.day,e.newUser.birth.year);21>a?(e.validAge=!0,e.ageClear=!1):a>=21&&this.newUser.birth.month&&this.newUser.birth.day&&this.newUser.birth.year&&(e.validAge=!1,e.ageClear=!0)},changeSignUpView:function(){this.signUpFlag?this.signUpFlag=!1:this.signUpFlag=!0},googleLogin:function(){var e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithRedirect(e)}}});firebase.auth().onAuthStateChanged(function(e){e&&(window.location="index.html")});